<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mapper.AttenceMapper">

    <resultMap type="com.pojo.Attence" id="AttenceMap">
        <id property="id" column="id" jdbcType="INTEGER"/>
        <result property="empName" column="emp_name" jdbcType="VARCHAR"/>
        <result property="dept" column="dept" jdbcType="VARCHAR"/>
        <result property="chkDate" column="chk_date" jdbcType="TIMESTAMP"/>
        <result property="status" column="status" jdbcType="VARCHAR"/>
    </resultMap>

    <select id="queryAll" resultMap="AttenceMap">
        SELECT * FROM attence.attence
        ORDER BY chk_date DESC
    </select>

    <insert id="insertAtence" parameterType="Attence">
        INSERT INTO `attence`(emp_name,dept,chk_date,STATUS)
        VALUES(#{empName},#{dept},now(),#{status})
    </insert>
</mapper>

